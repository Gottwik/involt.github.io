<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Getting started | Involt</title>
	<meta content="How to use Involt? Quick overview about framework features, Arduino send or receive data and guide to use JavaScript." name="description"></meta>
	<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
	<link rel="shortcut icon" type="image/png" href="favicon.png"/>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700|Source+Code+Pro:300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="css/style.css">	
	<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.5/less.min.js"></script>-->
	<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
</head>
<body>
	<header class="nav-bg">
		<div class="navbar">
			<div class="logo"><a href="index.html"><img src="img/logo.svg" ></a></div>
			<div class="ham-btn">
				<div>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
			<div class="menu-screen">
				<a href="index.html">Home</a>
				<a href="gettingstarted.html">Getting started</a>
				<a href="examples.html">Examples</a>
				<a href="reference.html">Reference</a>
				<a href="https://github.com/Involt/Involt">Github</a>
			</div>
		</div>
		<div class="menu-mobile">
			<a href="index.html">Home</a>
			<a href="gettingstarted.html">Getting started</a>
			<a href="examples.html">Examples</a>
			<a href="reference.html">Reference</a>
			<a href="https://github.com/Involt/Involt">Github</a>
		</div>
	</header>
	
	<div class="container textmain">
		<div class="content">
			<h2>How to start with Involt?</h2>
			<div class="subtitle">1.Install</div>
			<ol class="install">
				<li>Install Google Chrome.</li>
				<li>Download and unpack Involt.</li>
				<li>In Chrome go to tools > extensions.</li>
				<li>Toggle Developer mode</li>
				<li>Click “Load unpacked extension...” and choose unpacked folder.</li>
				<img src="img/install.jpg" alt="chrome settings install">
				<p>Now open your project with launch button or Chrome App Launcher.</p>
				<img src="img/launcher.png" alt="chrome packaged app launcher">
			</ol>
			<div class="subtitle">2. UI Syntax</div>
			
			<ol>
				<p>Involt converts CSS classes into specified user interface element, function and its parameters. The .ard class defines the Involt object.</p>
				<div class="codearea" style="width:100%;">
					<div class="refsyn" style="word-spacing: 0.5em;">
						ard	[function] [pin] [value] parameters* [yourclass]
					</div>
				</div>
				<li>
					[function]
					<p>Describe what UI element you want to create... check <a href="reference.html" class="bold">reference.</a></p>
				</li>
				<li>
					[pin]
					<p>Analog or digital pin number. Type of pin defines what kind of data you want to send. Currently the limit is only one pin per function but you can distribute the data inside sketch. For multiple values use JQuery Methods. Other letters will work as parameter for additional string sent to device. These strings need to be declared in sketch file.</p>
					<p class="bold">P - PWM pin data (or any other number) - P5 , P6 ...</p>
					<p class="bold">D - digital pin data (0/1) - D5 , D13 ...</p>
					<p class="bold">A - analog pin (read) - A0 , A1 ...</p>
				</li>
				<li>
					[value]
					<p>
						Value you want to send or beginning value for dynamic elements. 
						Some elements like hover or checkbox require two or more values to work - write them separated in one class:<span class="sscode">[value1]-[value2]</span> (example: <span class="sscode">50-100</span>).
						It's possible to send string with letters to Arduino but it requires some changes in sketch or custom JS/JQuery script (<a href="examples/ex5.html" class="bold">tutorial link</a>).
					</p>
				</li>
				<li>
					Parameters
					<p>
						Many elements requires parameters like minimum or maximum value. To check what parameters are required for element read the references. For elements like knob or rangeslider there are default values - range: 0-255, step: 1 - you don't have to include them in css. Defining the values incorrectly will cause Involt to stop working.
						<p class="bold">Range:</p>
						<p><span class="sscode">range-[minimum]-[maximum]</span> example: <span class="sscode">range-0-255</span></p>
						<p class="bold">Step:</p>
						<p><span class="sscode">step-[step]</span> example: <span class="sscode">step-5</span></p>
						<p class="bold">Beginning value:</p>
						<p>Beginning value is defined as [value] for elements that require it. Sometimes it's a good idea to define the beginning value in <span class="sscode">void setup()</span>.</p>
					</p>
				</li>
				<li>
					[yourclass]
					<p>
						You can add your own class to element <span class="bold">after</span> the Involt specified classes.
					</p>
				</li>
			</ol>
			<div class="subtitle">3. Read data from Arduino</div>
			<ol>
				<p>Reading data from arduino and accessing it inside App is easy. Everything you need to add is the <span class="sscode">chromeSend(pinIndex, value)</span> function inside sketch (<span class="sscode">pinIndex</span> is required for Involt to understand which pin to update). Value is stored and updated automatically in Involt. You can use UI element to display it or get the JS variable from <span class="sscode">analogPins[pinIndex]</span> array. </p>
				<p><span class="bold">Important:</span>When sending multiple values with <span class="sscode">analogRead</span> you should add <span class="sscode">delay(1)</span> (minimum) to not overload the serial port connection.</p>
			</ol>
			<div class="codearea">
				<div class="helper">ARDUINO</div><br>
				... <br><br>
				void loop() {  <br />
				<p>chromeReceive(); </p><br>
				<p style="color: blue;">chromeSend(0, analogRead(A0));</p>
			} <br>
			<br>... 
		</div>
		<div class="codearea">
			<div class="helper">index.html</div><br>
			
			&lt;div class="ard show A0"&gt;&lt;/div&gt;
			
		</div>

		<div class="subtitle">4. Send data to Arduino</div>
		<ol>
			<p>One of framework features is the simplicity and minimum of code required. The minimum for Involt is declaring the pin states with <span class="sscode">chromeDigital[pinIndex]</span> array and <span class="sscode">digital/analog write</span>. The <span class="sscode">pinMode</span> is automatic with <span class="sscode">autoPinMode</span> which is default. Think about this array as container for values received from App - they can do more than exchanging raw pin values. You can also use the array to access the pins from shift registers or send the variables to library-specific function. Defining more pins can be used to store more variables than you device maximum number of pins. It's possible to send more than a pin value - check <a href="examples/ex5.html" class="bold">this</a> tutorial. The best way to understand the framework from the HTML side is to start playing with basic interactions like blinking LED with button and prototyping the user interface. At the beginning you can test Involt with <span class="sscode">directMode</span> and toggling the LED without writing code to your sketch (this mode is recommended only for testing). Involt App also stores the pin states in <span class="sscode">digitalPins[pinIndex]</span> array.</p>
			<p><span class="bold">Important:</span> You need to declare the length of <span class="sscode">chromeDigital[]</span> array. Remember about adding +1 variable to prevent from unexpected results. The default value is total pin number for Arduino UNO. </p>
		</ol>
		<div class="codearea">
			<div class="helper">ARDUINO</div><br>
			... <br><br>
		void setup() {  <br />
			<p>Serial.begin(115200);</p>
		} <br>
		void loop() {  <br />
		<p>chromeReceive(); </p><br>
		<p style="color:blue;">analogWrite(5, chromeDigital[5]);</p>
		<p style="color:blue;">analogWrite(6, chromeDigital[5]);</p><br>
	} <br>
	... <br>

</div>
<div class="codearea">
	<div class="helper">index.html</div><br>
	
	&lt;div class="ard button P5 123"&gt;Click Me&lt;/div&gt;
	
</div>
<div class="subtitle">5. Involt setup</div>
<ol>
	<li>Loader
		<p>On launch Involt uses loader to ask for Arduino port. To customize loader screen edit core/loader.css </p>
		<p class="bold">How to remove loader:</p>
		<ol class="install">
			<li>Open core/involt.js.</li>
			<li>Change "loaderOnLaunch" variable to false.</li>
			<li>Set "defaultSerialPort" to your connected Arduino port.</li>
			<br>
		</ol>
	</li>
	<li>User interface
		<p>To change Involt styleguide edit the core/framework.css or add your custom CSS file. Some classes may affect elements in loader. <span class="bold">Do not use .ard class for objects that do not communicate with arduino. </span></p>
	</li>
	<li>How to change window dimensions
		<p>Open core/background.js and change screenWidth or screenHeight. To run app on fullscreen uncomment the fullscreen parameter. </p>
	</li>
	<li>Name and description of project
		<p>Open manifest.json. Do not change other elements inside manifest because your project will disappear from launcher. For details about manifest file go to <a href="https://developer.chrome.com/extensions/manifest" class="bold">Chrome Manifest website</a></p>
	</li>
</ol>

<div class="subtitle">6. Arduino sketch</div>
<ol>
<li>Send the value to multiple pins at once
	<p>Before version 1.0.3 there was a limited support for sending value to multiple pins (or even multiple values to multiple pins). Currently this feature is removed due to many issues with buffer overload. To send same value to multiple pins distribute one value from array to multiple digital/analog write. For sending muliple values to multiple pins use JQuery.</p>
</li>
<li>Send or receive more variables. Send or receive custom string.
	<p>You can use Involt to send more than pin values, for example string with letters - there are simple tricks to do that. Check <a href="examples/ex5.html" class="bold">this</a> tutorial.</p>
</li>
<li>Call function from UI to sketch.
	<p>You can add the <span class="sscode">fn</span> html attribute to send function name and trigger it in sketch (you can't pass the whole function from JS). When the attribute is defined Involt automatically passes the name on UI element event. Check <a href="examples/ex6.html" class="bold">this</a> tutorial. </p>
</li>
<li>Direct mode and auto pin mode
	<p>There are additional modes included to sketch. The default settings are optimal for working on project. Direct mode sends values directly to pin without storing them anywhere. The auto pin mode automatically sets the <span class="sscode">pinMode</span> to output for pin that receives data.</p>
</li>
<li>Hardware-specific libraries
	<p>Involt is designed to be as simple as it's possible. The functions inside sketch are using only serial library, framework shouldn't collide with additional libraries.</p>
</li>
<li>Other types of communication
	<p>Involt is still in development and currently framework is serial-only. In future there will be also bluetooth communication included.</p>
</li>
</ol>
<h2>JavaScript and Chrome support</h2>
<div class="subtitle">1. How does it work?</div>
<ol>
	<p>CSS classes contain specified function and parameters that JavaScript converts to raw serial data (pin number, value). Involt automatically exchange data between Arduino and App using Serial library and Chrome API. Use these values as data array inside Arduino without writing additional lines of code. </p>
	<img src="img/diagram.svg" alt="involt diagram">
</ol>
<div class="subtitle">2. JavaScript functions and variables</div>
<ol>
	<p>To create more advanced project you can write custom JQuery/JS script. For this purpose Involt store data inside arrays:</p>
	<li>analogPins[k]
		<p>Array that store analog pins value where "k" is pin number (pin A0: k = 0). The data is updated automatically as long as you use chromeSend function in sketch.</p>
	</li>
	<div class="codearea">
		//button which changes font size based on pin A0 value <br><br>

		$(".yourbutton").click(function() {
		<p>$("div").css('font-size', analogPins[0]);</p>
	});</div>
<li>digitalPins[k]
	<p>Array that stores digital/PWM pin value declared and changed inside Involt - it contains same values as in Arduino <span class="sscode">chromeDigital[k]</span> array. "k" is pin number (D5 = 5, P5 = 5). </p>
</li>
<div class="codearea">
	//Display value of pin 5 when clicked. <br>
	<br>
	$(".yourbutton").click(function() {
	<p>$(this).html(digitalPins[5]);</p>
});
</div>
<li>arduinoSend(pin, value);
	<p>Use this function for sending data to arduino. This function is JavaScript only and doesn't require JQuery. </p>
</li>
<div class="codearea">
	//Button that send to PWM pin 5 value 123<br><br>
	$(".yourbutton").click(function() {
	<p>arduinoSend("P5", 123);</p>
});
</div>
</ol>
<div class="subtitle">3. Involt as JQuery plugin</div>
<ol>
	<p>Another big feature of Involt is creating more customized projects with JQuery. There are easy to learn methods that allows user to manipulate current elements and creating their own.</p>
	<p>Below there is a quick overview of what you can do with JQuery. For details on how to start with JQuery check the <a href="examples/ex4.html" class="bold">Involt as JQuery plugin tutorial</a></p>
<li>JQuery object data
	<p>Involt element parameters (converted CSS classes) are stored in JQuery object data and they are defined on App launch. Editing them is the way to manipulate the Involt elements with JavaScript. Access them manually with <span class="sscode">.data()</span> like this:</p>
</li>
<div class="codearea">
	//Pin number with index (P5,D5,A5)<br>
	<p>$(this).data('pin');</p> <br>
	//Pin number only (1,2,3)
	<p>$(this).data('pinNumber');</p>
</div>
	<p>The Involt parameters are: <span class="sscode">pin, pinNumber, value, value2, min, max, step, fn</span></p>
	<li>
		JQuery methods
		<p>Involt is based on JQuery methods and using them allows to create more advanced projects. Using JQuery methods doesn't require defining their parameters with CSS classes - to do this use JavaScript.</p>
	</li>
	<br>.pinDefine("pin")
	<p>Defines <span class="sscode">pin</span> and <span class="sscode">pinNumber</span> for target element. The <span class="sscode">.pinDefine("pin")</span> require pin to work.</p>
	<div class="codearea">
		$(this).pinDefine("P5");
	</div>
		<br>.pinSwap("newPin")
	<p>Change the target pin. It's similar to <span class="sscode">.pinDefine()</span> but it also checks if there is defined pin value in <span class="sscode">digitalPins[]</span> array If not - set it to previous value.</p>
	<div class="codearea">
		$(this).pinSwap("P6");
	</div>
		<br>.sendValue()
	<p>Get the defined pin value from <span class="sscode">digitalPins[]</span> array and send it to Arduino. You can also define the value <span class="sscode">.sendValue(value)</span> and send the value outside of framework array.</p>
	<div class="codearea">
		//Define pin and send the value
		<p>digitalPins[5] = 100;</p>
		<p>$(this).pinDefine("P5").sendValue();</p><br>
		//Send the value without using digitalPins array
		<p>$(this).pinDefine("P5").sendValue(100);</p>
	</div>
		<br>.updateValue(newValue)
	<p>Update pin value in <span class="sscode">digitalPins[]</span> array and update object <span class="sscode">value</span> data. This method require <span class="sscode">pin</span> and <span class="sscode">pinNumber</span> defined in object data. When the <span class="sscode">newValue</span> is undefined the new value is selected object <span class="sscode">value</span> data.</p>
	<div class="codearea">
		digitalPins[5] = 0;<br>
		$(this).pinDefine("P5").updateValue(200);
		//now the value of digitalPins[5] is 200
	</div>
		<br>.sendString(string)
	<p> Send raw string outside of Involt with <span class="sscode">chrome.serial.send</span> function. You don't need to define anything. This is not recommended way to communicate for beginners.</p>
	<div class="codearea">
		$(this).sendString("Involt");
	</div>
		<br>.sendFn(string)
	<p> Send string that can be used to trigger functions in Arduino. Check <a href="examples/ex6.html" class="bold">this</a> tutorial.</p>
	<div class="codearea">
		$(this).sendString("Involt");
	</div>
</ol>
<div class="subtitle">4. Chrome API</div>

<ol>
	<li>Read what you can do with Chrome API on apps reference:
		<p><a href="https://developer.chrome.com/apps/api_index" class="bold">https://developer.chrome.com/apps/api_index</a></p>
	</li>
	<li>To understand how Involt uses Chrome API check:
		<p><a href="https://developer.chrome.com/apps/app_serial" class="bold">Accessing Hardware Devices (serial)</a></p>
		<p><a href="https://developer.chrome.com/apps/serial" class="bold">chrome.serial reference</a></p>
	</li>
	<li>involtID
		<p>The connection ID is required for almost every operation in chrome.serial. The variable is defined after the connection is accepted. Here is example of sending string to serial port with this ID:</p>
		<div class="codearea">chrome.serial.send(involtID, sendConvertString(yourstring), onSend);</div>
	</li>
</ol>
</div>
</div>
<footer class="container">
	<div class="content">
		<div class="columns">
			<img src="img/ico1.svg" alt="involt" class="ico">
			<p class="foot">Involt is ready to use Chrome packaged app template. You can use it to quickly create interactive object with software to hardware communication. It is aimed for UX/product designers rather than professional coders.
			</p>
			<a href="#" class="bold">Return to top</a>
		</div>
		<div class="columns">
			<img src="img/ico2.svg" alt="git" class="ico">
			<p class="foot">You can help develop this framework or  <a href="https://github.com/Involt/Involt" class="bold">fork project on Github</a>. To see the progress of developement you can check the changelog. <br>Involt is under MIT license.</p>

			<a href="https://github.com/Involt/Involt/wiki/Changelog" class="bold">See the changelog</a>
		</div>
		<div class="columns">
			<img src="img/ico3.svg" alt="contact the author" class="ico">
			<p class="foot">
				Used Involt and enjoyed it? Do you have any questions or suggestions? You can help by sending feedback directly via mail.
			</p>
			<a href="mailto:ernestwarzocha@gmail.com" class="bold">ernestwarzocha@gmail.com</a>
		</div>
	</div>
	<br style="clear:both">
</footer>
<script src="js/jq.js"></script>
</body>
</html>