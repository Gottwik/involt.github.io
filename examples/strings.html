<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Send/receive more... | Involt - Arduino to html prototyping framework for designers.</title>
	<meta content="With Involt it's possible to send strings which is useful in many cases. Framework can transfer more variables between software and hardware." name="description"></meta>
	<meta content="hardware prototyping, software to hardware, arduino, html, arduino to html, framework, jquery, chrome app, physical computing, communication" name="keywords"></meta>
	<meta content="width=device-width, initial-scale=1" name="viewport"></meta>
	<link rel="shortcut icon" type="image/png" href="../favicon.png"/>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<!--<script src="js/less.js"></script>-->
	<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700|Source+Code+Pro:300' rel='stylesheet' type='text/css'>
</head>
<body>
	<header>
		<div class="container-head">
			<a href="../index.html" class="logo"><img src="../img/logo.svg" alt=""></a>
			<div class="ham-btn">
				<div>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>	
			<nav>
				<a href="../index.html">Home</a>
				<a href="../getting-started.html">Getting started</a>
				<a href="../examples.html">Examples</a>
				<a href="../reference.html">Reference</a>
				<a href="https://github.com/Involt/Involt">Github</a>
			</nav>
		</div>
	</header>
	<div class="bg-gray">
		<div class="container">
			<div class="sidebar reference">
				<h2>Examples:</h2>
				<div>
					<a href="blink.html">Blink tutorial</a>
				</div>
				<div>
					<a href="2knobs.html">2 Knobs 1 App</a>
				</div>
				<div>
					<a href="barrelroll.html">"Do a barrel roll"</a>
				</div>
				<div>
					<a href="involtjq.html">Involt as JQuery plugin</a>
				</div>
				<div>
					<a href="strings.html">Send/receive more...</a>
				</div>
			</div>
			<main>
				<h3>Send/receive more...</h3>
				<p>How to read/send more variables or custom string.</p>
				<h4>Read more variables from Arduino</h4>
				<p>To read data from multiplexers, I2C devices like gyro or from other hardware use the <span>involtSend(pinNumber, value)</span> function to send values.  The <span>pin</span> is analog pin index. Send the data as additional analog pin to use it inside your App. For example add 16 values of CD74HC4067 analog multiplexer as analog pins from A6 to A22 (for UNO) and access them in Involt <span>analogPins</span> array.</p>
				<h4>How to read a custom string from Arduino.</h4>
				<p>Just use the <span>involtSendString(pinNumber, string)</span> function.</p>
				<h4>Send more variables to Arduino.</h4>
				<p>To send additional variable declare it as non existing pin. For example try to send value to Arduino UNO (with highest pin number 13) as pin P14.Remember about declaring them in <span>involtDigital[]</span> array</p>
				<div class="code arduino">
					//total number+1 +1 additional value <br>
					involtDigital[15] = {}; 
				</div>
				<div class="code html">
					&lt;div class="ard button P14 200"&gt;&lt;/div&gt;
				</div>
				<p>Now you can access this value in involtDigital array as <span>involtDigital[14]</span>. You can use this method to send values to shift register or expander.</p>
				<h4>How to send a custom string to Arduino.</h4>
				<p>Involt communication is based on variable/integer exchange by using serial. Even if data is transfered with string data - it is not possible to send the custom string directly. Here is example how data is sent from Involt to Arduino: </p>
				<div class="code">
					//Send to pwm pin 5 value 255: <br>	<br>
					P5V255\n <br><br>				
					//the "\n" is used for Serial.readStringUntil() inside sketch to stop the function from reading data.
				</div>
				<p>To store your string you need to define your custom string. </p>
				<div class="code arduino">String customstring;</div>
				<p>You need to change the <span>involtReceive</span> function. Involt will save to <span>customstring</span> when the received string will start from parameter. For this example add "S" letter as the parameter. Good practice is saving strings with many letters - S, T, U... and define them in html as S0,T0,U0 (you can also use this letter to store multiple variables in array with additional "if" statement. Then access them as S0,S1 etc.). Do not use the letters P or D because sending will cause errors in sketch.</p>
				<p>Edit the <span>involtReceive()</span> function </p>
				<div class="code arduino">
					<div class="code-m">
						... <br><br>
						if(Serial.available() > 0){
						<p>involt = Serial.readStringUntil('\n');</p>
						<p>involtLen = involt.length();</p><br>
						<p>if (involt.indexOf("S") == 0){</p>
						<br>
						<p>customstring = involt.substring(involt.indexOf(V) + 1, involtLen);</p>
						<br>
						<p>}</p><br><br>
						...
					</div>
				</div>
				<p>To save your customstring as "involt" you need to send:</p>
				<div class="code">S0Vinvolt</div>
				<p>Now test this function with connected led to pin 5: </p>
				<div class="code arduino">
					<div class="code-m">
						//Add this to void loop section <br><br>
						if (customstring == "involt"){ 
						<p>analogWrite(5, 255);</p>
						}
					</div>
				</div>
				<p>To test you can send the string with button:</p>
				<div class="code html">
					&lt;div class="ard button S0 involt"&gt;&lt;/div&gt;
				</div>
				<p>For sending more than single word you can add string attribute to html element:</p>
				<div class="code html">
					&lt;div class="ard button S0" string="involt"&gt;&lt;/div&gt;
				</div>
				<p>... or create input and type "involt":</p>
				<div class="code html">
					&lt;input class="ard input-write S0"&gt;
				</div>
			</main>
		</div>
	</div>
	<footer>
		<div class="container">
			<div class="column">
				<img src="../img/ico1.svg" class="ico-small" alt="">
				<div class="footer-txt">
					Involt is ready to use Chrome packaged app template. You can use it to quickly create interactive object with software to hardware communication. The goal is to help designers to overcome the obstacles at prototyping stage.
				</div>
				<a href="../about.html">Read more</a>
			</div>
			<div class="column">
				<img src="../img/ico2.svg" class="ico-small" alt="">
				<div class="footer-txt">
					You can help develop framework on Github. There are new features added with each version. To see the progress of development you can check the changelog. Involt is under MIT license.
				</div>
				<a href="https://github.com/Involt/Involt/wiki/Changelog">See the Changelog</a>
			</div>
			<div class="column">
				<img src="../img/ico3.svg" class="ico-small" alt="">
				<div class="footer-txt">
					Used Involt and enjoyed it? Do you have any questions or suggestions? Help by sending feedback directly via mail.
				</div>
				<a href="mailto:ernestwarzocha@gmail.com">ernestwarzocha@gmail.com</a>
			</div>
		</div>
	</footer>
	<script src="../js/jq-ui.js"></script>
</body>
</html>